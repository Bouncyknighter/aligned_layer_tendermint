# How to use PLONK

`proof_generation/plonk/example_base64_serialized/` contains the binaries needed to perform the verification, if you want to create another proof, you can create your own circuit using `gnark.go` following the example `misc/gnark_plonk`.

## Easy steps to create your own proof:

1. Change Circuit definition inside `misc/gnark_plonk/gnark_plonk.go`
2. Use the `proof_generation/plonk/universal_pk.bin` to create the proof, the witness has to be generated by the circuit.
2. Run `go run gnark_plonk.go`
3. Binary files needed are generated, place those binaries inside a new dir placed in `proof_generation/plonk/`. The verifier only needs the publicWitness &rarr; public inputs and the proof itself.
4. Change the Makefile to create a tx with the new proof and new public_witness

> [!IMPORTANT]  
> The verifying key named: `proof_generation/plonk/hardcoded_vk.bin` is the verifying key that is hardcoded in the binary, use it to verify proofs generated by the `proof_generation/plonk/universal_pk.bin` proving_key. Only the verifying key (VK) associated with a specific proving key (PK) can be used to verify a proof generated with that particular PK.

In the future another (big) circuit will be used to generate the setup so proofs on other circuits can be run.
If the circuit changes, the hardcoded_vk.bin has to change, then copy the contents in the variable `vk_base64` used in `x/verification/keeper/message_server_verify.go` and build the binary again.
